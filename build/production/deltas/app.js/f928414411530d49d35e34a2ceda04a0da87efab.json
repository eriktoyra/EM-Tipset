["/*235629a7d4195448771ae4c8a611ab4fbe418e0d",42,226256,"xt.SegmentedButton",202670,33,"segmentedbutton\",requires:[\"Ext.Button",279679,38,"segmentedbutton",244639,32,"button-pressed\",allowMultiple:false,allowDepress:null,pressedButtons:[]",405481,38,"defaultType:\"button\"",242492,52,"on({delegate:\"> button\",scope:a,tap:\"onButtonRelease\"});a.onAfter({delegate:\"> button\",scope:a,hiddenchange:\"onButtonHiddenChange\"})},updateAllowMultiple:function(){if(!this.initialized&&!this.getInitialConfig().hasOwnProperty(\"allowDepress\")){this.setAllowDepress(true)}},applyItems:function(){var e=this,f=[],d,b,c,a;e.callParent(arguments);a=this.getItems(",152757,32,"a.items[b];if(c.getInitialConfig(\"pressed\")){f.push(a.items[b])}}e.updateFirstAndLastCls(a);e.setPressedButtons(f)},onButtonRelease:function(a){var d=this,e=d.getPressedButtons()||[],c=[],b;if(!d.getDisabled()&&!a.getDisabled()){if(d.getAllowMultiple()){c=e.concat(c)}b=(c.indexOf(a)!==-1)||(e.indexOf(a)!==-1);if(b&&d.getAllowDepress()){Ext.Array.remove(c,a)}else{if(!b||!d.getAllowDepress()){c.push(a)}}d.setPressedButtons(c);Ext.defer(function(){d.fireEvent(\"toggle\",d,a,d.isPressed(a))},50)}},onButtonHiddenChange:function(){this.updateFirstAndLastCls(this.getItems())},updateFirstAndLastCls:function(a){var d=a.length,e=Ext.baseCSSPrefix,c,b;for(b=0;b<d;b++){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"first\");break}}for(b=d-1;b>=0;b--){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"last\");break}}},applyPressedButtons:function(a){var e=this,f=[],c,d,b;if(Ext.isArray(a)){",152759,32,"getComponent(a[b]);if(c&&f.indexOf(c)===-1){f.push(c)}}}else{c=e.getComponent(a);if(c&&f.indexOf(c)===-1){f.push(c)}}return f},updatePressedButtons:function(a){var h=this,b=h.getItems(),g=h.getPressedCls(),f,d,e,c;e=b.length;for(c=0;c<e;c++){f=b.items[c];f.removeCls([g,f.getPressedCls()])}e=a.length;for(c=0;c<e;c++){d=a[c];d.addCls(g)}},isPressed:function(a){var b=this.getPressedButtons();return b.indexOf(a)!=-1},doSetDisabled:function(a){var b=this;b.items.each(function(c){c.setDisabled(a)},b);b",139685,52,"M.view.Main",202670,33,"main\",id:\"main\",items:[{xtype:\"resultspage\"}]});Ext.define(\"EM.view.Viewport\",{extend:\"Ext.Panel\",config:{id:\"main-viewport-panel\",fullscreen:true,scrollable:\"vertical\",items:[{xtype:\"toptoolbar\",docked:\"top\"},{xtype:\"mainnav\",docked:\"top\"},{xtype:\"mystats\"},{xtype:\"main\"}]}});Ext.define(\"EM.view.TopToolbar\",{extend:\"Ext.Toolbar\",xtype:\"toptoolbar\",defaults:{iconMask:true,},config:{id:\"top-toolbar\",items:[{xtype:\"container\",docked:\"left\",html:['<img id=\"em-tipset-logo\" src=\"resources/images/em-tipset-logo.png\" />']},{xtype:\"container\",docked:\"right\",html:['<div class=\"user name\"></div><img class=\"settings\" src=\"resources/images/cog.png\" />']}]}});Ext.define(\"EM.view.LastUpdated",202670,33,"lastupdated\",config:{id:\"last-updated\",data:{},tpl:'<img id=\"clock\" src=\"resources/images/clock.png\" />Senast uppdaterad: {lastUpdated}'}});Ext.define(\"EM.view.MainNav\",{extend:\"Ext.Toolbar\",xtype:\"mainnav\",requires:[\"Ext.SegmentedButton\"],config:{id:\"main-nav\",dock:\"top\",items:[{xtype:\"segmentedbutton\",docked:\"left\",allowDepress:false,cls:\"nav-item\",items:[{id:\"results-nav-item\",text:\"Mitt tips\",pressed:true,},{id:\"standings-nav-item\",text:\"Deltagare\"}],},{docked:\"right\",html:'<div id=\"league-select\">Alla ligor</div>'}]}});Ext.define(\"EM.view.MessageAtTop\",{extend:\"Ext.Panel\",xtype:\"messageattop\",config:{id:\"message-at-top\",cls:\"message top\",top:5,left:0,hideAnimation:\"slideOut\",tpl:[\"<div>{errorMessage}</div>\"],data:{},},});Ext.define(\"EM.view.StandingsPage",202670,33,"standingspage\",config:{id:\"standings-page\",showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"left\"}),items:[{xtype:\"container\",html:[\"<h1>Tabeller, s\ufffff\ufffff sm\ufffff\ufffffningom.</h1>\",].join(\"\")}]",226636,34,"Nav\",{extend:\"Ext.app.Controller\",init:function(){console.log(\"Init in MainNav controller\")},launch:function(){this.addNewPageInMainIfNotAlreadyExists(\"#results-page\",\"EM.view.ResultsPage\")},config:{views:[\"EM.view.MainNav\"],refs:{resultsNav:\"#results-nav-item\",standingsNav:\"#standings-nav-item\",main:\"#main\",},control:{resultsNav:{tap:\"doTapResultNavItem\"},standingsNav:{tap:\"doTapStandingsNavItem\"},}},doTapResultNavItem:function(){this.removePreviousPageFromMainIfExists(\"#standings-page\");this.addNewPageInMainIfNotAlreadyExists(\"#results-page\",\"EM.view.ResultsPage\")},doTapStandingsNavItem:function(){this.removePreviousPageFromMainIfExists(\"#results-page\");this.addNewPageInMainIfNotAlreadyExists(\"#standings-page\",\"EM.view.StandingsPage\")},addNewPageInMainIfNotAlreadyExists:function(c,b){var a=this.getMain();var d=a.child(c);if(!d){d=a.add(Ext.create(b,{hidden:true}))}this.setCurrentVisiblePage(d);d.show()},removePreviousPageFromMainIfExists:function(a){this.getCurrentVisiblePage().hide()},getCurrentVisiblePage:function(){return this.currentVisiblePage},setCurrentVisiblePage:function(a){this.currentVisiblePage=a},",226637,33,"Panel\",{extend:\"Ext.app.Controller\",init:function(){console.log(\"Init in MainPanel controller.\")},launch:function(){console.log(\"Launch in MainPanel controller.\")},config:{refs:{forgotPasswordButton:\"#login-form #forgot-password\",loginButton:\"#login-form #login\",loginForm:\"#login-form\",loginFormFields:\"#login-form field\",mainPanel:\"#main-panel\",},control:{loginFormFields:{focus:\"hideValidationErrorMessage\"},forgotPasswordButton:{tap:\"doForgotPassword\"},loginButton:{tap:\"doValidateForm\"},}},doForgotPassword:function(){console.log(\"User pressed the Gl\ufffff\ufffffmt ditt l\ufffff\ufffffsenord? button.\")},doValidateForm:function(){var d=this.getLoginForm();var b=Ext.create(\"EM.model.User\"),c,a=\"<h5>Gult kort!</h5>\";d.updateRecord(b);c=b.validate();if(!c.isValid()){c.each(function(e){a+=e.getMessage()+\" \"});this.showValidationErrorMessage(a)}else{this.doLoginRequest()}},showValidationErrorMessage:function(a){if(Ext.getCmp(\"message-at-top\")){this.destroyValidationErrorMessage()}var b=Ext.create(\"EM.view.MessageAtTop\",{});b.setData({errorMessage:a});b.setListeners({tap:{element:\"element\",fn:this.hideValidationErrorMessage},hide:{element:\"element\",fn:this.destroyValidationErrorMessage}});this.getMainPanel().add(b)},hideValidationErrorMessage:function(){console.log(\"hiding the validation message\");var a=Ext.getCmp(\"message-at-top\");if(a){a.hide()}},destroyValidationErrorMessage:function(){Ext.getCmp(\"message-at-top\").destroy()},doLoginRequest:function(){var b=this.getLoginForm();var a=b.getValues();b",289371,37,"\"Loggar in...\"});Ext.Ajax.request({url:\"http://emtipset.dev.stendahls.se/api/formlogin\",withCredentials:false,useDefaultXhrHeader:false,disableCaching:true,method:\"POST\",timeout:10000,scope:this,headers:",287202,50,"\",},params:{Username:a.email,Password:a.password,},callback:function(d,e,c){if(e){b.unmask();if(true||c.status==200){if(a.rememberMe){this.rememberMe(a.email,a.password,c)}this.getMainPanel().setActiveItem(1)}else{this.showValidationErrorMessage(\"Inloggningen misslyckades. Kontrollera dina loginuppgifter.\")}}else{b.unmask();this.showValidationErrorMessage(\"Kunde inte kontakta servern. F\ufffff\ufffffrs\ufffff\ufffffk igen lite senare.\")}}})},rememberMe:function(d,c,b){var e=Ext.getStore(\"RememberMe\");var a=Ext.create(\"EM.model.User\",{});a.set(\"userId\",null);a.set(\"name\",\"John Doe\");a.set(\"email\",d);a.set(\"password\",c);if(e.findRecord(\"email\",d)==null){e.add(a)}e.sync()},dirtyRememberMe:function(){var a=Ext.getStore(\"RememberMe\");a.removeAll();a.sync()}});var roundMenu=Ext.create(\"Ext.SegmentedButton\",{config:{allowDepress:false,cls:\"round-selector-items\",docked:\"top\"},});Ext.define(\"EM.controller.ResultsPage\",{extend:\"Ext.app.Controller\",init:function(){var c=Ext.create(\"EM.store.Rounds\",{});var b=Ext.create(\"EM.store.Matches\",{});var a=[];console.log(\"Init in ResultsPage controller\");c.load({callback:function(){c.each(function(d){var e=d.data;a.push({id:\"round-\"+e.roundId+\"-selector\",text:e.name,iconAlign:\"right\",iconCls:(e.isLocked?\"round-locked\":\"round-open\"),});d.matches().each(function(f){b.add(f)})});roundMenu.setItems(a)}})},launch:function(){this.getRoundSelector().add(roundMenu);this.doUpdateLastUpdated();var a=Ext.getStore(\"Matches\");this.getMatchList().deselectAll();a.clearFilter();a.filterBy(function(b,c){return b.getRound().get(\"roundId\")==5},this)},config:{views:[\"MatchList\",\"MyStats\",\"ResultsPage\",\"RoundSelector\"],refs:{lastUpdated:\"#last-updated\",matchList:\"#match-list\",resultsPage:\"#results-page\",roundSelector:\"#round-selector\"},control:{matchList:{itemtap:function(c,d,h,b,g,f){}},\"#round-5-selector\":{tap:\"doRoundFilter\"},\"#round-6-selector\":{tap:\"doRoundFilter\"},\"#round-7-selector\":{tap:\"doRoundFilter\"},\"#round-8-selector\":{tap:\"doRoundFilter\"},\"#round-9-selector\":{tap:\"doRoundFilter\"},\"#round-10-selector\":{tap:\"doRoundFilter\"}}},doUpdateLastUpdated:function(){var b=new Date(Date.now());var a={lastUpdated:b.format(\"d mmmm yyyy, HH:MM\")};this.getLastUpdated().setData(a)},doRoundFilter:function(b,d,c){var a=Ext.getStore(\"Matches\");this.getMatchList().deselectAll();a.clearFilter();a.filterBy(function(e,f){return e.getRound().get(\"name\")==b.config.text},this",230029,1058,271196,230,242186,2333,255043,3458,"mixin.Sor",259485,33,266683,4518,273186,567,274444,3023,"Connection",258511,46,247865,7178,277754,1792,245555,346,258505,969,272135,1051,277467,292,292319,8286,326184,458,285320,4854,"M.view.LoginForm",412958,34,"formpanel\",scrollable:false,fullscreen:true",413003,69,"],config:{id:\"login-form\",items:[{html:'<img id=\"app-logo\" src=\"resources/images/uefa-tips-logo.png\"/>'},{xtype:\"fieldset\",defaults:{required:true,},items:[{xtype:\"emailfield\",name:\"email\",placeHolder:\"Epostadress\"},{xtype:\"passwordfiel",413658,32,"L\ufffff\ufffffsenord\"},",414391,36,"checkboxfield\",name:\"rememberMe\",label:\"Kom ih\ufffff\ufffffg mig\",labelWidth:\"77.5%\",required:false},]},{id:\"login\",xtype:\"button\",text:\"Logga in\",},{html:\"<hr />\"},{id:\"forgot-password\",xtype:\"button\",text:\"Gl\ufffff\ufffffmt ditt l\ufffff\ufffffsenord?\",}],",300580,1169,341956,4001,354625,8830,308496,793,326646,12348,340297,843,363455,12029,"M.model.Match\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[{name:\"matchId\",type:\"int\"},{name:\"firstTeam\",type:\"string\"},{name:\"firstTeamFlag\",type:\"string\",convert:function(b,a){return matchExt.getTeamFlagOrElse(a.get(\"firstTeam\"),\"\")}},{name:\"secondTeam\",type:\"string\"},{name:\"secondTeamFlag\",type:\"string\",convert:function(b,a){return matchExt.getTeamFlagOrElse(a.get(\"secondTeam\"),\"\")}},{name:\"kickOff\",convert:function(c,a){var b=c.replace(/\\/|Date\\(|\\+0200\\)/g,\"\");return b}},{name:\"kickOffHour\",convert:function(c,a){var b=a.get(\"kickOff\");b=new Date(util.convertUnixTimeToMilliseconds(b));return Ext.Date.format(b,\"H:i\")}},{name:\"result\",convert:function(c,b){var a=c;if(a.homeTeamScore==null){a.homeTeamScore=0}if(a.awayTeamScore==null){a.awayTeamScore=0}return a}},{name:\"bet\",convert:function(c,b){var a=c;if(a==null){a={homeTeamScore:\"\",awayTeamScore:\"\",}}return a}},\"matchPoints\",{name:\"pointsEarned\",convert:function(b,a){return matchExt.getPointsEarnedOrElse(a.get(\"matchPoints\"),\"\")}},{name:\"bettingOutcome\",type:\"string\",convert:function(b,a){return matchExt.correctBettedResults(a.get(\"matchPoints\"),a.get(\"firstTeamGoals\"),a.get(\"secondTeamGoals\"),a.get(\"firstTeamGoalsBet\"),a.get(\"secondTeamGoalsBet\"))}},],associations:{type:\"belongsTo\",model:\"EM.model.Round\",name:\"round\",autoLoad:true}}});var matchExt=(function(){var a={};a.correctBettedResults=function(c,f,d,e,b){if(typeof c==\"undefined\"||c==0){return\"\"}if(this.checkForCorrectResultBet(f,d,e,b)){return\"correct-result\"}if(this.checkFirstTeamWin(f,d,e,b)){return\"first-team-win\"}if(this.checkSecondTeamWin(f,d,e,b)){return\"second-team-win\"}if(this.checkDraw(f,d,e,b)){return\"drawed\"}};a.checkForCorrectGoalDifference=function(e,c,d,b){return(e-c)==(d-b)};a.checkForCorrectResultBet=function(e,c,d,b){return(d==e)&&(b==c)};a.checkFirstTeamWin=function(e,c,d,b){return(e>c)&&(d>b)};a.checkSecondTeamWin=function(e,c,d,b){return(e<c)&&(d<b)};a.checkDraw=function(e,c,d,b){return(e==c)&&(d==b)};a.getTeamFlagOrElse=function(c,b){if(c==\"tbd\"||c==\"tbd2\"){return b}return'<span class=\"'+c.toLowerCase()+'\"></span>'};a.getPointsEarnedOrElse=function(d,b){var c=\"no-points-earned\";if(typeof d==\"undefined\"){return b}if(d>0){c=\"points-earned\"}return'<div class=\"'+c+'\">'+d+\"p</div>\"};return a})();Ext.define(\"EM.model.Round\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[\"roundId\",\"name\",{name:\"lockedDate\",convert:function(b,a){var c=b.replace(/\\/|Date\\(|\\+0200\\)/g,\"\");c=new Date(parseInt(c));return c<Date.now()}},{name:\"isLocked\",type:\"boolean\",convert:function(b,a){var c=new Date(a.get(\"lockedDate\"));return c<Date.now()}},\"matches\",],associations:[{type:\"hasMany\",model:\"EM.model.Match\",name:\"matches\",autoLoad:true,}],proxy:{type:\"ajax\",url:\"http://emtipset.dev.stendahls.se/api/rounds\",method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Basic YXBpdGVzdDphcGl0ZXN0\"},reader:{type:\"json\",}},},",341116,845,375492,13039,"var initialFilter=new Ext.util.Filter({filterFn:function(a){return a.getRound().get(\"name\")==\"Omg\ufffff\ufffffng 1\"}});Ext.define(\"EM.store.Matches\",{extend:\"Ext.data.Store\",config:{model:\"EM.model.Match\",storeId:\"Matches\",filters:initialFilter,grouper:{groupFn:function(b){var a=new Date(EM.app.convertUnixTimeToMilliseconds(b.get(\"kickOff\")));return a.format(\"d mmmm yyyy\")},sortProperty:\"kickOff\"},}});Ext.define(\"EM.store.Rounds\",{extend:\"Ext.data.Store\",config:{model:\"EM.model.Round\",storeId:\"Rounds\",}});Ext.define(\"Ext.data.proxy.WebStorage",341282,36,"ternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer",30508,36,"callParent(arguments);this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];if(g.phantom){g.phantom=false;b=this.getNextId()}else{b=g.getId()}this.setRecord(g,b);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(e,j,k){var c=[],a=this.getIds(),h=this.getModel(),l=h.getIdProperty(),d=e.getParams()||{},b=a.length,f,g;if(d[l]!==undefined){g=this.getRecord(d[l]);if(g){c.push(g);e.setSuccessful()}}else{for(f=0;f<b;f++){c.push(this.getRecord(a[f]))}e.setSuccessful()}e.setCompleted();e.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:c,total:c.length,loaded:true}));e.setRecords(c);",337563,32,"k||this,e)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);b.setCompleted();b.setSuccessful();if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(k,d){if(d){k.setId(d)}else{d=k.getId()}var m=this,a=k.getData(),j={},f=m.getModel(),l=f.getFields().items,e=l.length,h=0,n,c,g,o,b;for(;h<e;h++){n=l[h];c=n.getName();if(typeof n.getEncode()==\"function\"){j[c]=n.getEncode()(a[c],k)}else{if(n.getType().type==\"date\"&&Ext.isDate(a[c])){b=n.getDateFormat();if(b){j[c]=Ext.Date.format(a[c],b)}else{j[c]=a[c].getTime()}}else{j[c]=a[c]}}}g=m.getStorageObject();o=m.getRecordKey(d);m.cache[d]=k;g.removeItem(o);g.setItem(o,Ext.encode(j))},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format(\"{0}-counter\",this.getId())},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}else{for(a=0;a<c;a++){b[a]=parseInt(b[a],10)}}return b},setIds:function(b){var c=this.getStorageObject(),d=b.join(\",\"),e=this.getId(),a=this.getRecordCounterKey();c.removeItem(e);if(Ext.isEmpty(d)){c.removeItem(a)}else{c.setItem(e,d)}},getNextId:function(){var d=this.getStorageObject(),a=this.getRecordCounterKey(),c=d.getItem(a),b,e;if(c===null){b=this.getIds();c=b[b.length-1]||0}e=parseInt(c,10)+1;d.setItem(a,e);return e",246671,40,"arguments);var a=this.getStorageObject();a.setItem(this.getId(),a.getItem(this.getId())||\"\")},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b])}d.removeItem(this.getRecordCounterKey());d.removeItem(this.getId())},getStorageObject",341233,43,"LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage}});Ext.define(\"EM.store.RememberMe\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"EM.model.User\",proxy:{type:\"localstorage\",id:\"remember-me-store\"},sorters:[{property:\"userId\",direction:\"ASC\"}]}});Ext.define(\"Ext.data.Validations",354648,32,"validations\",singleton:true,config:{presenceMessage:\"must be present\",lengthMessage:\"is the wrong length\",formatMessage:\"is the wrong format\",inclusionMessage:\"is not included in the list of acceptable values\",exclusionMessage:\"is not an acceptable value\",emailMessage:\"is not a valid email address\"",220304,46,"getMessage:function(a){var b=this[\"get\"+a[0].toUpperCase()+a.slice(1)+\"Message\"];if(b){return b.call(this)}return\"\"},emailRe:/^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/,presence",277965,36,"}return !!b||b===0},length:function(b,e){if(e===undefined||e===null){return false}var d=e.length,c=b.min,a=b.max;if((c&&d<c)||(a&&d>a)){return false}else{return true}},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define(\"EM.model.User\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[\"userId\",\"name\",\"email\",\"password\"],validations:[{field:\"email\",type:\"presence\",message:\"Epostadressen \ufffff\ufffffr inte giltig.\"},{field:\"password\",type:\"presence\",message:\"Ett l\ufffff\ufffffsenord m\ufffff\ufffffste anges.\"},]},});Ext.define(\"EM.view.MyStats",202670,33,"mystats\",config:{id:\"my-stats\",html:['<div id=\"my-ranking\">47<span class=\"total-contestants\">/241</span></div>'].join(\"\")}});Ext.define(\"EM.view.ResultsPage",202670,33,"resultspage\",config:{id:\"results-page\",showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"right\"}),items:[{xtype:\"roundselector\",},{xtype:\"lastupdated\",},{xtype:\"matchlist\",}]}});Ext.define(\"EM.view.RoundSelector\",{extend:\"Ext.Toolbar\",xtype:\"roundselector\",requires:[\"Ext.SegmentedButton\"],config:{id:\"round-selector\",scrollable:{direction:\"horizontal\",directionLock:true}",226945,3105,"plugin.PullRefresh",116913,33,"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">Last Updated: <span>{lastUpdated:date(\"m/d/Y h:iA\")}</span></div>',\"</div>\",\"</div>\"].join(\"\")},isRefreshing:false,currentViewState:\"\"",246672,46,"on({painted:\"onPainted\",scope:this})},init:function(f){var d=this,b=f.getStore(),e=d.getPullTpl(),c=d.element,a=f.getScrollable().getScroller();d.setList(f);d.lastUpdated=new Date();f.insert(0,d);if(b){if(b.isAutoLoading()){f.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){f.setLoadingText(null)}}})}}e.overwrite(c,{message:d.getPullRefreshText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated > span\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a",368864,35,"{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPull",318306,80,"BounceTop:function(d){var b=this,c=b.getList(),a=c.getScrollable().getScroller();if(!b.isReleased){if(!b.isRefreshing&&-d>=b.pullHeight+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-d<b.pullHeight+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\")",245876,1928,259474,7167,273753,691,290177,2137,309285,16891,"M.view.MatchList\",{extend:\"Ext.List\",xtype:\"matchlist\",requires:[\"Ext.TitleBar\",\"EM.store.Rounds\",\"EM.store.Matches\",\"Ext.plugin.PullRefresh\"],config:{id:\"match-list\",store:\"Matches\",grouped:true,scrollable:false,itemTpl:['<div class=\"match-meta-data\">','<div class=\"team-wrapper home-team\">{firstTeam} <div class=\"flag\">{firstTeamFlag}</div> <span class=\"goals-scored\">{result.homeTeamScore}</span></div>','<div class=\"kick-off-time\">{kickOffHour}</div>','<div class=\"team-wrapper away-team\"><span class=\"goals-scored\">{result.awayTeamScore}</span> <div class=\"flag\">{secondTeamFlag}</div> {secondTeam}</div>','<div class=\"bet-meta-data {bettingOutcome}\">','<img class=\"user-icon\" src=\"resources/images/user-22x26.png\" />','<div class=\"home-team goals-bet\">{bet.homeTeamScore}</div>','<div class=\"away-team goals-bet\">{bet.homeTeamScore}</div>',\"{pointsEarned}\",\"</div>\",\"</div>\",].join(\"\")},",414658,704,"name:\"EM\",requires:[\"Ext.SegmentedButton\",],controllers:[\"MainNav\",\"MainPanel\",\"ResultsPage\"],models:[\"Match\",\"Round\",\"User\"],stores:[\"Matches\",\"RememberMe\",\"Rounds\",],views:[\"Main\",\"Viewport\",\"TopToolbar\",\"LastUpdated\",\"LoginForm\",\"MainNav\",\"MessageAtTop\",\"StandingsPage",415456,321,"var c=Ext.create(\"EM.view.LoginForm\",{});var a=Ext.create(\"EM.view.Viewport\",{});var b=new Ext.Panel({id:\"main-panel",283093,32,"\"flip\"},fullscreen:true,items:[c,a],});b.setActiveItem(1",415820,188,",convertUnixTimeToMilliseconds:function(a){return a*1000}});var util=(function(){var a={};a.convertUnixTimeToMilliseconds=function(b){return b*1000};return a})();"]