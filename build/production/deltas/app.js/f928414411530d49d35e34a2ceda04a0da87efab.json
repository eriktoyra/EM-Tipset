["/*d5f2803e351b0876ca9db146a6e8114418948615",42,226256,"xt.SegmentedButton",202670,33,"segmentedbutton\",requires:[\"Ext.Button",279679,38,"segmentedbutton",244639,32,"button-pressed\",allowMultiple:false,allowDepress:null,pressedButtons:[]",405481,38,"defaultType:\"button\"",242492,52,"on({delegate:\"> button\",scope:a,tap:\"onButtonRelease\"});a.onAfter({delegate:\"> button\",scope:a,hiddenchange:\"onButtonHiddenChange\"})},updateAllowMultiple:function(){if(!this.initialized&&!this.getInitialConfig().hasOwnProperty(\"allowDepress\")){this.setAllowDepress(true)}},applyItems:function(){var e=this,f=[],d,b,c,a;e.callParent(arguments);a=this.getItems(",152757,32,"a.items[b];if(c.getInitialConfig(\"pressed\")){f.push(a.items[b])}}e.updateFirstAndLastCls(a);e.setPressedButtons(f)},onButtonRelease:function(a){var d=this,e=d.getPressedButtons()||[],c=[],b;if(!d.getDisabled()&&!a.getDisabled()){if(d.getAllowMultiple()){c=e.concat(c)}b=(c.indexOf(a)!==-1)||(e.indexOf(a)!==-1);if(b&&d.getAllowDepress()){Ext.Array.remove(c,a)}else{if(!b||!d.getAllowDepress()){c.push(a)}}d.setPressedButtons(c);Ext.defer(function(){d.fireEvent(\"toggle\",d,a,d.isPressed(a))},50)}},onButtonHiddenChange:function(){this.updateFirstAndLastCls(this.getItems())},updateFirstAndLastCls:function(a){var d=a.length,e=Ext.baseCSSPrefix,c,b;for(b=0;b<d;b++){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"first\");break}}for(b=d-1;b>=0;b--){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"last\");break}}},applyPressedButtons:function(a){var e=this,f=[],c,d,b;if(Ext.isArray(a)){",152759,32,"getComponent(a[b]);if(c&&f.indexOf(c)===-1){f.push(c)}}}else{c=e.getComponent(a);if(c&&f.indexOf(c)===-1){f.push(c)}}return f},updatePressedButtons:function(a){var h=this,b=h.getItems(),g=h.getPressedCls(),f,d,e,c;e=b.length;for(c=0;c<e;c++){f=b.items[c];f.removeCls([g,f.getPressedCls()])}e=a.length;for(c=0;c<e;c++){d=a[c];d.addCls(g)}},isPressed:function(a){var b=this.getPressedButtons();return b.indexOf(a)!=-1},doSetDisabled:function(a){var b=this;b.items.each(function(c){c.setDisabled(a)},b);b",139685,52,"M.view.Main",202670,33,"main\",id:\"main\",items:[{xtype:\"resultspage\"}]});Ext.define(\"EM.view.Viewport\",{extend:\"Ext.Panel\",config:{id:\"main-viewport-panel\",fullscreen:true,scrollable:\"vertical\",items:[{xtype:\"toptoolbar\",docked:\"top\"},{xtype:\"mainnav\",docked:\"top\"},{xtype:\"mystats\"},{xtype:\"main\"}]}});Ext.define(\"EM.view.TopToolbar\",{extend:\"Ext.Toolbar\",xtype:\"toptoolbar\",defaults:{iconMask:true,},config:{id:\"top-toolbar\",items:[{xtype:\"container\",docked:\"left\",html:['<img id=\"em-tipset-logo\" src=\"resources/images/em-tipset-logo.png\" />']},{xtype:\"container\",docked:\"right\",html:['<div class=\"user name\"></div><img id=\"settings\" class=\"settings\" src=\"resources/images/cog.png\" />']}]}});Ext.define(\"EM.view.LastUpdated",202670,33,"lastupdated\",config:{id:\"last-updated\",data:{},tpl:'<img id=\"clock\" src=\"resources/images/clock.png\" />Senast uppdaterad: {lastUpdated}'}});Ext.define(\"EM.view.MainNav\",{extend:\"Ext.Toolbar\",xtype:\"mainnav\",requires:[\"Ext.SegmentedButton\"],config:{id:\"main-nav\",dock:\"top\",items:[{xtype:\"segmentedbutton\",docked:\"left\",allowDepress:false,cls:\"nav-item\",items:[{id:\"results-nav-item\",text:\"Mitt tips\",pressed:true,},{id:\"standings-nav-item\",text:\"Deltagare\"}],},{docked:\"right\",html:'<div id=\"league-select\">Alla ligor</div>'}]}});Ext.define(\"EM.view.MessageAtTop\",{extend:\"Ext.Panel\",xtype:\"messageattop\",config:{id:\"message-at-top\",cls:\"message top\",top:5,left:0,hideAnimation:\"slideOut\",tpl:[\"<div>{errorMessage}</div>\"],data:{},},});Ext.define(\"EM.view.StandingsPage",202670,33,"standingspage\",config:{id:\"standings-page\",showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"left\"}),items:[{xtype:\"container\",html:[\"<h1>Tabeller, s\ufffff\ufffff sm\ufffff\ufffffningom.</h1>\",].join(\"\")}]",226636,34,"Nav\",{extend:\"Ext.app.Controller\",init:function(){console.log(\"Init in MainNav controller\")},launch:function(){this.addNewPageInMainIfNotAlreadyExists(\"#results-page\",\"EM.view.ResultsPage\")},config:{views:[\"EM.view.MainNav\"],refs:{resultsNav:\"#results-nav-item\",standingsNav:\"#standings-nav-item\",main:\"#main\",},control:{resultsNav:{tap:\"doTapResultNavItem\"},standingsNav:{tap:\"doTapStandingsNavItem\"},}},doTapResultNavItem:function(){this.removePreviousPageFromMainIfExists(\"#standings-page\");this.addNewPageInMainIfNotAlreadyExists(\"#results-page\",\"EM.view.ResultsPage\")},doTapStandingsNavItem:function(){this.removePreviousPageFromMainIfExists(\"#results-page\");this.addNewPageInMainIfNotAlreadyExists(\"#standings-page\",\"EM.view.StandingsPage\")},addNewPageInMainIfNotAlreadyExists:function(c,b){var a=this.getMain();var d=a.child(c);if(!d){d=a.add(Ext.create(b,{hidden:true}))}this.setCurrentVisiblePage(d);d.show()},removePreviousPageFromMainIfExists:function(a){this.getCurrentVisiblePage().hide()},getCurrentVisiblePage:function(){return this.currentVisiblePage},setCurrentVisiblePage:function(a){this.currentVisiblePage=a},",226637,33,"Panel\",{extend:\"Ext.app.Controller\",init:function(){console.log(\"Init in MainPanel controller.\")},launch:function(){console.log(\"Launch in MainPanel controller.\")},config:{refs:{forgotPasswordButton:\"#login-form #forgot-password\",loginButton:\"#login-form #login\",loginForm:\"#login-form\",loginFormFields:\"#login-form field\",mainPanel:\"#main-panel\",},control:{loginFormFields:{focus:\"hideValidationErrorMessage\"},forgotPasswordButton:{tap:\"doForgotPassword\"},loginButton:{tap:\"doValidateForm\"},}},doForgotPassword:function(){console.log(\"User pressed the Gl\ufffff\ufffffmt ditt l\ufffff\ufffffsenord? button.\")},doValidateForm:function(){var d=this.getLoginForm();var b=Ext.create(\"EM.model.User\"),c,a=\"<h5>Gult kort!</h5>\";d.updateRecord(b);c=b.validate();if(!c.isValid()){c.each(function(e){a+=e.getMessage()+\" \"});this.showValidationErrorMessage(a)}else{this.doLoginRequest()}},showValidationErrorMessage:function(a){if(Ext.getCmp(\"message-at-top\")){this.destroyValidationErrorMessage()}var b=Ext.create(\"EM.view.MessageAtTop\",{});b.setData({errorMessage:a});b.setListeners({tap:{element:\"element\",fn:this.hideValidationErrorMessage},hide:{element:\"element\",fn:this.destroyValidationErrorMessage}});this.getMainPanel().add(b)},hideValidationErrorMessage:function(){var a=Ext.getCmp(\"message-at-top\");if(a){a.hide()}},destroyValidationErrorMessage:function(){Ext.getCmp(\"message-at-top\").destroy()},doLogout:function(){console.log(\"logging out\");EM.app.setUserData({});this.dirtyRememberMe();this.getMainPanel().setActiveItem(0)},doLoginRequest:function(){var b=this.getLoginForm();var a=b.getValues();b",289371,37,"\"Loggar in...\"});Ext.Ajax.request({url:\"http://emtipset.dev.stendahls.se/api/formlogin\",withCredentials:false,useDefaultXhrHeader:false,disableCaching:true,method:\"POST\",timeout:10000,scope:this,headers:",287202,50,"\",},params:{Username:a.email,Password:a.password,},callback:function(d,f,c){b.unmask();if(f){if(c.status==200){EM.app.setUserData(JSON.parse(c.responseText));if(a.rememberMe){this.rememberMe(a.email)}var e=this.getApplication().getController(\"ResultsPage\");e.doRoundsRequest();this.getMainPanel().setActiveItem(1)}}else{switch(c.status){case 401:this.showValidationErrorMessage(\"Inloggningen misslyckades. Kontrollera dina loginuppgifter.\");break;default:this.showValidationErrorMessage(\"Kunde inte kontakta servern. F\ufffff\ufffffrs\ufffff\ufffffk igen lite senare.\")}}}})},rememberMe:function(c){var d=Ext.getStore(\"RememberMe\");var b=Ext.create(\"EM.model.RememberMe\",{});var a=EM.app.getUserData();b.set(\"userId\",a.userId);b.set(\"name\",a.name);b.set(\"auth\",a.auth);if(d.findRecord(\"userId\",a.userId)==null){d.add(b)}d.sync()},dirtyRememberMe:function(){var a=Ext.getStore(\"RememberMe\");a.removeAll();a.sync()}});Ext.define(\"EM.controller.ResultsPage\",{extend:\"Ext.app.Controller\",init:function(){},launch:function(){},config:{views:[\"MatchList\",\"MyStats\",\"ResultsPage\",\"RoundSelector\",\"TopScorer\",\"Top4\"],refs:{lastUpdated:\"#last-updated\",top4:{selector:\"top-4\",xtype:\"top4\",autoCreate:true},topScorer:{selector:\"top-scorer\",xtype:\"topscorer\",autoCreate:true},matchList:{selector:\"match-list\",xtype:\"matchlist\",autoCreate:true},resultsPage:\"#results-page\",roundSelector:\"#round-selector\"},control:{matchList:{itemtap:function(c,d,h,b,g,f){console.log(\"Tapped on a list item\")}},\"#top-4-menu-item\":{tap:\"doTop4\"},\"#top-scorer-menu-item\":{tap:\"doTopScorer\"},\"#round-5-selector\":{tap:\"doRoundFilter\"},\"#round-6-selector\":{tap:\"doRoundFilter\"},\"#round-7-selector\":{tap:\"doRoundFilter\"},\"#round-8-selector\":{tap:\"doRoundFilter\"},\"#round-9-selector\":{tap:\"doRoundFilter\"},\"#round-10-selector\":{tap:\"doRoundFilter\"}}},doRoundsRequest:function(){var c=Ext.create(\"EM.store.Rounds\",{});var b=Ext.create(\"EM.store.Matches\",{});var a=[{id:\"top-4-menu-item\",text:\"Topp 4\",iconAlign:\"right\",iconCls:\"round-open\",},{id:\"top-scorer-menu-item\",text:\"Skyttekung\",iconAlign:\"right\",iconCls:\"round-open\",}];c.setProxy({type:\"ajax\",url:\"http://emtipset.dev.stendahls.se/api/rounds\",method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:EM.app.getUserData(\"auth\")},reader:{type:\"json\",}});c.load({scope:this,callback:function(){var e=false,d=5;c.each(function(f){var g=f.data;var h=g.isLocked;a.push({id:\"round-\"+g.roundId+\"-selector\",text:g.name,iconAlign:\"right\",iconCls:(h?\"round-locked\":\"round-open\"),pressed:(!e&&!h)});if(!h){d=g.roundId;e=true}f.matches().each(function(i){b.add(i)})});this.addRoundFilterMenu(a);this.getResultsPage().add(this.getTop4());this.getResultsPage().add(this.getTopScorer());this.getResultsPage().add(this.getMatchList());this.doUpdateLastUpdated();this.roundFilterByKey(\"roundId\",d)}})},addRoundFilterMenu:function(a){var b=Ext.create(\"Ext.SegmentedButton\",{config:{allowDepress:false,cls:\"round-selector-items\",docked:\"top\"},});b.setItems(a);b.setAllowDepress(false);this.getRoundSelector().add(b);this.getRoundSelector().show()},doUpdateLastUpdated:function(){var b=new Date(Date.now());var a={lastUpdated:b.format(\"d mmmm yyyy, HH:MM\")};this.getLastUpdated().setData(a)},doRoundFilter:function(a,c,b){this.roundFilterByKey(\"name\",a.config.text)},doTop4:function(a,c,b){this.getMatchList().hide();this.getTopScorer().hide();this.getTop4().show();console.log(\"Tapped on Topp 4\")},doTopScorer:function(a,c,b){this.getMatchList().hide();this.getTop4().hide();this.getTopScorer().show();console.log(\"Tapped on Skyttekung\")},roundFilterByKey:function(b,c){var a=Ext.getStore(\"Matches\");this.getMatchList().deselectAll();a.clearFilter();a.filterBy(function(d,e){return d.getRound().get(b)==c},this);this.getTop4().hide();this.getTopScorer().hide();this.getMatchList().show",230028,1059,271196,230,242186,2333,255043,3458,"mixin.Sor",259485,33,266683,4518,273186,567,274444,3023,"Connection",258511,46,247865,7178,277754,1792,245555,346,258505,969,272135,1051,277467,292,292319,8286,326184,458,285320,4854,"M.view.LoginForm",412958,34,"formpanel\",scrollable:false,fullscreen:true",413003,69,"],config:{id:\"login-form\",items:[{html:'<img id=\"app-logo\" src=\"resources/images/uefa-tips-logo.png\"/>'},{xtype:\"fieldset\",defaults:{required:true,},items:[{xtype:\"emailfield\",name:\"email\",placeHolder:\"Epostadress\"},{xtype:\"passwordfiel",413658,32,"L\ufffff\ufffffsenord\"},",414391,36,"checkboxfield\",name:\"rememberMe\",label:\"Kom ih\ufffff\ufffffg mig\",labelWidth:\"77.5%\",required:false},]},{id:\"login\",xtype:\"button\",text:\"Logga in\",},{html:\"<hr />\"},{id:\"forgot-password\",xtype:\"button\",text:\"Gl\ufffff\ufffffmt ditt l\ufffff\ufffffsenord?\",}],",300580,1169,341956,4001,354625,8830,308496,793,326646,12348,340297,843,363455,12029,"M.model.Match\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[{name:\"matchId\",type:\"int\"},{name:\"firstTeam\",type:\"string\"},{name:\"firstTeamFlag\",type:\"string\",convert:function(b,a){return matchExt.getTeamFlagOrElse(a.get(\"firstTeam\"),\"\")}},{name:\"secondTeam\",type:\"string\"},{name:\"secondTeamFlag\",type:\"string\",convert:function(b,a){return matchExt.getTeamFlagOrElse(a.get(\"secondTeam\"),\"\")}},{name:\"kickOff\",convert:function(b,a){return parseInt(b)}},{name:\"kickOffHour\",convert:function(c,a){var b=parseInt(a.get(\"kickOff\"));b=new Date(b);return Ext.Date.format(b,\"H:i\")}},{name:\"result\",convert:function(c,b){var a=c;if(typeof a==\"undefined\"){a={homeTeamGoals:0,awayTeamGoals:0}}return a}},{name:\"prediction\",convert:function(c,a){var b=c;if(typeof b==\"undefined\"){b={homeTeamGoals:\"\",awayTeamGoals:\"\",}}return b}},\"score\",{name:\"pointsEarned\",convert:function(b,a){return matchExt.getPointsEarnedOrElse(a.get(\"score\"),\"\")}},{name:\"bettingOutcome\",type:\"string\",convert:function(b,a){return matchExt.correctBettedResults(a.get(\"score\"),a.get(\"result\"),a.get(\"prediction\"))}},],associations:{type:\"belongsTo\",model:\"EM.model.Round\",name:\"round\",autoLoad:true}}});var matchExt=(function(){var a={};a.correctBettedResults=function(d,b,c){if(typeof d==\"undefined\"||d==0){return\"\"}if(this.checkForCorrectResultBet(b.homeTeamGoals,b.awayTeamGoals,c.homeTeamGoals,c.awayTeamGoals)){return\"correct-result\"}if(this.checkHomeTeamWin(b.homeTeamGoals,b.awayTeamGoals,c.homeTeamGoals,c.awayTeamGoals)){return\"home-team-win\"}if(this.checkAwayTeamWin(b.homeTeamGoals,b.awayTeamGoals,c.homeTeamGoals,c.awayTeamGoals)){return\"away-team-win\"}if(this.checkDrawedResult(b.homeTeamGoals,b.awayTeamGoals,c.homeTeamGoals,c.awayTeamGoals)){return\"drawed\"}};a.checkForCorrectGoalDifference=function(c,b,c,b){return(c-b)==(c-b)};a.checkForCorrectResultBet=function(d,c,e,b){return(d==e)&&(c==b)};a.checkHomeTeamWin=function(d,c,e,b){return(d>c)&&(e>b)};a.checkAwayTeamWin=function(d,c,e,b){return(d<c)&&(e<b)};a.checkDrawedResult=function(d,c,e,b){return(d==c)&&(e==b)};a.getTeamFlagOrElse=function(c,b){if(c==\"tbd\"||c==\"tbd2\"){return b}return'<span class=\"'+c.toLowerCase()+'\"></span>'};a.getPointsEarnedOrElse=function(d,b){var c=\"no-points-earned\";if(typeof d==\"undefined\"){return b}if(d>0){c=\"points-earned\"}return'<div class=\"'+c+'\">'+d+\"p</div>\"};return a})();Ext.define(\"EM.model.Round\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[\"roundId\",\"name\",{name:\"startDate\",convert:function(c,b){var a=new Date(parseInt(c));return a}},{name:\"lockedDate\",convert:function(b,a){var c=new Date(parseInt(b));return c}},{name:\"isLocked\",type:\"boolean\",convert:function(d,b){var a=b.get(\"startDate\"),e=b.get(\"lockedDate\"),c=new Date();if(a>c||e<c){return true}else{if(a<c&&e>c){return false}}}},\"matches\",],associations:[{type:\"hasMany\",model:\"EM.model.Match\",name:\"matches\",autoLoad:true,}],},",341116,845,375492,13039,"var initialFilter=new Ext.util.Filter({filterFn:function(a){return a.getRound().get(\"roundId\")==5}});Ext.define(\"EM.store.Matches\",{extend:\"Ext.data.Store\",config:{model:\"EM.model.Match\",storeId:\"Matches\",filters:initialFilter,grouper:{groupFn:function(b){var a=new Date(parseInt(b.get(\"kickOff\")));return a.format(\"d mmmm yyyy\")},sortProperty:\"kickOff\"},}});Ext.define(\"EM.store.Rounds\",{extend:\"Ext.data.Store\",config:{model:\"EM.model.Round\",storeId:\"Rounds\",}});Ext.define(\"Ext.data.proxy.WebStorage",341282,36,"ternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer",30508,36,"callParent(arguments);this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];if(g.phantom){g.phantom=false;b=this.getNextId()}else{b=g.getId()}this.setRecord(g,b);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(e,j,k){var c=[],a=this.getIds(),h=this.getModel(),l=h.getIdProperty(),d=e.getParams()||{},b=a.length,f,g;if(d[l]!==undefined){g=this.getRecord(d[l]);if(g){c.push(g);e.setSuccessful()}}else{for(f=0;f<b;f++){c.push(this.getRecord(a[f]))}e.setSuccessful()}e.setCompleted();e.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:c,total:c.length,loaded:true}));e.setRecords(c);",337563,32,"k||this,e)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);b.setCompleted();b.setSuccessful();if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(k,d){if(d){k.setId(d)}else{d=k.getId()}var m=this,a=k.getData(),j={},f=m.getModel(),l=f.getFields().items,e=l.length,h=0,n,c,g,o,b;for(;h<e;h++){n=l[h];c=n.getName();if(typeof n.getEncode()==\"function\"){j[c]=n.getEncode()(a[c],k)}else{if(n.getType().type==\"date\"&&Ext.isDate(a[c])){b=n.getDateFormat();if(b){j[c]=Ext.Date.format(a[c],b)}else{j[c]=a[c].getTime()}}else{j[c]=a[c]}}}g=m.getStorageObject();o=m.getRecordKey(d);m.cache[d]=k;g.removeItem(o);g.setItem(o,Ext.encode(j))},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format(\"{0}-counter\",this.getId())},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}else{for(a=0;a<c;a++){b[a]=parseInt(b[a],10)}}return b},setIds:function(b){var c=this.getStorageObject(),d=b.join(\",\"),e=this.getId(),a=this.getRecordCounterKey();c.removeItem(e);if(Ext.isEmpty(d)){c.removeItem(a)}else{c.setItem(e,d)}},getNextId:function(){var d=this.getStorageObject(),a=this.getRecordCounterKey(),c=d.getItem(a),b,e;if(c===null){b=this.getIds();c=b[b.length-1]||0}e=parseInt(c,10)+1;d.setItem(a,e);return e",246671,40,"arguments);var a=this.getStorageObject();a.setItem(this.getId(),a.getItem(this.getId())||\"\")},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b])}d.removeItem(this.getRecordCounterKey());d.removeItem(this.getId())},getStorageObject",341233,43,"LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage}});Ext.define(\"EM.store.RememberMe\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"EM.model.RememberMe\",proxy:{type:\"localstorage\",id:\"remember-me-store\"},sorters:[{property:\"userId\",direction:\"ASC\"}]}});Ext.define(\"Ext.data.Validations",354648,32,"validations\",singleton:true,config:{presenceMessage:\"must be present\",lengthMessage:\"is the wrong length\",formatMessage:\"is the wrong format\",inclusionMessage:\"is not included in the list of acceptable values\",exclusionMessage:\"is not an acceptable value\",emailMessage:\"is not a valid email address\"",220304,46,"getMessage:function(a){var b=this[\"get\"+a[0].toUpperCase()+a.slice(1)+\"Message\"];if(b){return b.call(this)}return\"\"},emailRe:/^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/,presence",277965,36,"}return !!b||b===0},length:function(b,e){if(e===undefined||e===null){return false}var d=e.length,c=b.min,a=b.max;if((c&&d<c)||(a&&d>a)){return false}else{return true}},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define(\"EM.model.RememberMe\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[\"userId\",\"name\",\"auth\"],validations:[{field:\"userId\",type:\"presence\",},{field:\"name\",type:\"presence\"},{field:\"auth\",type:\"presence\"}]},});Ext.define(\"EM.model.User\",{extend:\"Ext.data.Model\",init:function(){},config:{fields:[\"userId\",\"name\",\"email\",\"password\"],validations:[{field:\"email\",type:\"presence\",message:\"Epostadressen \ufffff\ufffffr inte giltig.\"},{field:\"password\",type:\"presence\",message:\"Ett l\ufffff\ufffffsenord m\ufffff\ufffffste anges.\"},]},});Ext.define(\"EM.view.MyStats",202670,33,"mystats\",config:{id:\"my-stats\",html:['<div id=\"my-ranking\">47<span class=\"total-contestants\">/241</span></div>'].join(\"\")}});Ext.define(\"EM.view.ResultsPage",202670,33,"resultspage\",config:{id:\"results-page\",showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"right\"}),items:[{xtype:\"roundselector\",},{xtype:\"lastupdated\",},],}});Ext.define(\"EM.view.RoundSelector\",{extend:\"Ext.Toolbar\",xtype:\"roundselector\",requires:[\"Ext.SegmentedButton\"],config:{id:\"round-selector\",scrollable:{direction:\"horizontal\",directionLock:true},hidden:true,}});Ext.define(\"EM.view.TopScor",301760,35,"topscorer\",config:{id:\"top-scorer\",showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"left\"}),hidden:true,items:[{xtype:\"container\",html:[\"<h1>Skyttekung</h1>\",].join(\"\")}]}});Ext.define(\"EM.view.Top4",282942,34,"op4\",config:{id:\"top-4\",showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"left\"}),hidden:true,items:[{xtype:\"container\",html:[\"<h1>Topp 4</h1>\",].join(\"\")}]",226945,3105,245897,1907,259474,7167,273753,691,290177,2137,309285,16891,"M.view.MatchList\",{extend:\"Ext.List\",xtype:\"matchlist\",requires:[\"Ext.TitleBar\",\"EM.store.Matches\",],config:{id:\"match-list\",store:\"Matches\",grouped:true,scrollable:false,showAnimation:Ext.create(\"Ext.fx.animation.Slide\",{direction:\"right\"}),itemTpl:['<div class=\"match-meta-data\">','<div class=\"team-wrapper home-team\">{firstTeam} <div class=\"flag\">{firstTeamFlag}</div> <span class=\"goals-scored\">{result.homeTeamGoals}</span></div>','<div class=\"kick-off-time\">{kickOffHour}</div>','<div class=\"team-wrapper away-team\"><span class=\"goals-scored\">{result.awayTeamGoals}</span> <div class=\"flag\">{secondTeamFlag}</div> {secondTeam}</div>','<div class=\"bet-meta-data {bettingOutcome}\">','<img class=\"user-icon\" src=\"resources/images/user-22x26.png\" />','<div class=\"home-team goals-bet\">{prediction.homeTeamGoals}</div>','<div class=\"away-team goals-bet\">{prediction.awayTeamGoals}</div>',\"{pointsEarned}\",\"</div>\",\"</div>\",].join(\"\")},",414658,704,"name:\"EM\",apiToken:\"\",userData:{},requires:[\"Ext.SegmentedButton\",],controllers:[\"MainNav\",\"MainPanel\",\"ResultsPage\"],models:[\"Match\",\"RememberMe\",\"Round\",\"User\"],stores:[\"Matches\",\"RememberMe\",\"Rounds\",],views:[\"Main\",\"Viewport\",\"TopToolbar\",\"LastUpdated\",\"LoginForm\",\"MainNav\",\"MessageAtTop\",\"StandingsPage",415456,321,"var d=Ext.create(\"EM.view.LoginForm\",{}),a=Ext.create(\"EM.view.Viewport\",{}),b=[];if(this.mayLoginUsingRememberMe()){b=[a,d]}else{b=[d,a]}var c=new Ext.Panel({id:\"main-panel\",layout:{type:\"card\",},fullscreen:true,items:b}",415820,188,",mayLoginUsingRememberMe:function(){var a=Ext.getStore(\"RememberMe\");a.load();if(a.getCount()>0){return true}return false},setApiToken:function(a){this.apiToken=a},getApiToken:function(){return this.apiToken},setUserData:function(a){this.userData=a;if(a.auth){this.setApiToken(a.auth)}},getUserData:function(a){if(typeof a==\"undefined\"){return this.userData}if(typeof this.userData[a]!=\"undefined\"){return this.userData[a]}return null},});"]